#!/bin/bash
cd ..

seeds=(0 1 2)

for seed in "${seeds[@]}"
do
CUDA_VISIBLE_DEVICES=1 python train.py --seed=$seed --wandb_project_name "exp_repeat_ours_best_spdp" --add_freq=true --add_prompts=None --batch_size=2 --clip=true --config_file=core/config/dl/resnet/resnet_sensors.yaml --diff_loss_weight=2.891618962203036 --epochs=10 --global_coeff=85.27047554809833 --lr=0.009 --method=prompt_global --normalize=false --num_pool=11 --pca_dim=64 --pen_prompt_coeff=0.991757926630378 --query_dim=32 --reset_head=true --shots=5 --stepbystep=false --target=sensors --train_head=true --train_imag=true --transfer=ppgbp --trunc_dim=98 --use_emb_diff=false --wd=0.1 &
CUDA_VISIBLE_DEVICES=2 python train.py --seed=$seed --wandb_project_name "exp_repeat_ours_best_spdp" --add_freq=true --add_prompts=None --batch_size=2 --clip=true --config_file=core/config/dl/resnet/resnet_bcg.yaml --diff_loss_weight=3.986055292948536 --epochs=10 --global_coeff=6.349021673150378 --lr=0.008 --method=prompt_global --normalize=false --num_pool=4 --pca_dim=32 --pen_prompt_coeff=0.1800107776725264 --query_dim=16 --reset_head=false --shots=5 --stepbystep=true --target=bcg --train_head=true --train_imag=true --transfer=ppgbp --trunc_dim=82 --use_emb_diff=false --wd=0.05 &
CUDA_VISIBLE_DEVICES=3 python train.py --seed=$seed --wandb_project_name "exp_repeat_ours_best_spdp" --add_freq=true --add_prompts=None --batch_size=4 --clip=true --config_file=core/config/dl/resnet/resnet_sensors.yaml --diff_loss_weight=47.72924355959818 --epochs=10 --global_coeff=0.9111054907095772 --lr=0.01 --method=prompt_global --normalize=false --num_pool=3 --pca_dim=4 --pen_prompt_coeff=2.588147917950462 --query_dim=16 --reset_head=false --shots=5 --stepbystep=true --target=sensors --train_head=true --train_imag=true --transfer=bcg --trunc_dim=67 --use_emb_diff=true --wd=0.007 &
CUDA_VISIBLE_DEVICES=4 python train.py --seed=$seed --wandb_project_name "exp_repeat_ours_best_spdp" --add_freq=true --add_prompts=None --batch_size=5 --clip=true --config_file=core/config/dl/resnet/resnet_ppgbp.yaml --diff_loss_weight=56.33536458627601 --epochs=10 --global_coeff=1.1201512738750017 --lr=0.008 --method=prompt_global --normalize=true --num_pool=18 --pca_dim=16 --pen_prompt_coeff=0.12427495138972326 --query_dim=32 --reset_head=false --shots=5 --stepbystep=false --target=ppgbp --train_head=true --train_imag=true --transfer=bcg --trunc_dim=94 --use_emb_diff=true --wd=0.006 &
CUDA_VISIBLE_DEVICES=5 python train.py --seed=$seed --wandb_project_name "exp_repeat_ours_best_spdp" --add_freq=true --add_prompts=None --batch_size=3 --clip=true --config_file=core/config/dl/resnet/resnet_ppgbp.yaml --diff_loss_weight=0.1225630007333491 --epochs=10 --global_coeff=0.5829122217247098 --lr=0.007 --method=prompt_global --normalize=false --num_pool=15 --pca_dim=4 --pen_prompt_coeff=0.4598277280710261 --query_dim=128 --reset_head=true --shots=5 --stepbystep=false --target=ppgbp --train_head=true --train_imag=true --transfer=sensors --trunc_dim=55 --use_emb_diff=false --wd=0.02 &
CUDA_VISIBLE_DEVICES=6 python train.py --seed=$seed --wandb_project_name "exp_repeat_ours_best_spdp" --add_freq=true --add_prompts=None --batch_size=3 --clip=true --config_file=core/config/dl/resnet/resnet_bcg.yaml --diff_loss_weight=38.633676665789054 --epochs=10 --global_coeff=39.98235962368049 --lr=0.007 --method=prompt_global --normalize=true --num_pool=12 --pca_dim=32 --pen_prompt_coeff=0.17073747261919472 --query_dim=64 --reset_head=false --shots=5 --stepbystep=false --target=bcg --train_head=true --train_imag=true --transfer=sensors --trunc_dim=95 --use_emb_diff=false --wd=0.1 &

wait
done